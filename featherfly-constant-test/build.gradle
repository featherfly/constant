allprojects {
    apply plugin: 'java'
    apply plugin: 'maven'  
    apply plugin: "maven-publish"
    
    
    apply from: '../featherfly-constant-test/java_base.gradle'
	apply from: '../featherfly-constant-test/maven_push.gradle'
    
    ext {
	    compileDependencies =[
	        'cn.featherfly:featherfly-common:1.5.2'
	        ,'cn.featherfly:featherfly-conversion:1.2.2'
	        ,'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.8.8'
	        ,'dom4j:dom4j:1.6.1'
	        ]
	}
		
	repositories {
        maven {
            url  ant.properties['user.home'] +  "/.m2/repository"
        }
        maven {
        	url "http://maven.aliyun.com/nexus/content/groups/public/"
        }
        mavenCentral()
    }

    dependencies {
		for (def depend : compileDependencies)  {
			compile (depend)
		}
	    testCompile (
	    	'org.testng:testng:latest.integration'
	    )
	}
}

sourceSets {
    main {
        java {
            srcDirs = ["src-test"]
        }
    }
}
	
dependencies {
	compile project(':featherfly-constant-core')
	compile project(':featherfly-constant-spring')
	compile "org.slf4j:slf4j-log4j12:1.7.7"
}

jar {
    manifest.attributes 'Build-Name': archivesBaseName
}
